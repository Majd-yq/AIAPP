<!DOCTYPE html>
<html lang="ar">
  <head>
    <meta charset="UTF-8" />
    <title>Apps</title>
    <link rel="stylesheet" href="Style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="myFunctions.js" defer></script>
  </head>
  <body>
    <!-- Header -->
    <header>
      <h1>AI's Apps ğŸ¤–</h1>
      <p class="subtitle">ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
    </header>

    <!-- Main Content -->
    <main>
      <section>
        <h2>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª</h2>
        <table>
          <thead>
            <tr>
              <th>Ø§Ø³Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</th>
              <th>Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø·ÙˆØ±Ø©</th>
              <th>Ù…Ø¬Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</th>
              <th>Ù…Ø¬Ø§Ù†ÙŠ</th>
              <th>Ø§Ù„ØªÙØ§ØµÙŠÙ„</th>
            </tr>
          </thead>
          <tbody id="appsTable">
            <!-- Apps will be added here -->
          </tbody>
        </table>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <nav>
        <a href="index.html"><span class="icon">ğŸ </span><span>Home</span></a>
        <a href="AboutUs.html"
          ><span class="icon">â„¹ï¸</span><span>About Us</span></a
        >
        <a href="add_app.html"
          ><span class="icon">â•</span><span>Add App</span></a
        >
      </nav>
      <p class="copy">Â© 2025 AI Apps Project</p>
    </footer>

    <!-- Apps Display Script -->
    <script>
      window.onload = function () {
        const table = document.getElementById("appsTable");
        let apps = JSON.parse(localStorage.getItem("appsList")) || [];

        apps.forEach((app) => {
          const row = table.insertRow();
          row.innerHTML = `
            <td>${app.name}</td>
            <td>${app.company}</td>
            <td>${app.field}</td>
            <td class="free-cell">
              ${app.free === "Ù…Ø¬Ø§Ù†ÙŠ" ? "â˜‘ï¸" : ""}
            </td>
            <td><button onclick="toggleDetails(this)">Ø§Ø®ØªØ±</button></td>
          `;

          const detailsRow = table.insertRow();
          detailsRow.className = "details";
          detailsRow.style.display = "none";
          detailsRow.innerHTML = `
            <td colspan="5">
              <p>ğŸŒ Ø§Ù„Ù…ÙˆÙ‚Ø¹: <a href="${app.url}" target="_blank">${
            app.url
          }</a></p>
              <p>ğŸ“– Ø´Ø±Ø­: ${app.desc}</p>
              ${
                app.image
                  ? `<p>ğŸ–¼ï¸ <img src="${app.image}" alt="ØµÙˆØ±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚" style="max-width:200px; border:1px solid #ccc; border-radius:6px;"></p>`
                  : ""
              }
              ${
                app.video
                  ? app.video.includes("youtube.com") ||
                    app.video.includes("youtu.be")
                    ? `<p>ğŸ¬ 
                        <iframe width="300" height="200" 
                          src="${app.video
                            .replace("watch?v=", "embed/")
                            .replace("youtu.be/", "youtube.com/embed/")}" 
                          frameborder="0" allowfullscreen>
                        </iframe>
                       </p>`
                    : `<p>ğŸ¬ 
                        <video src="${app.video}" controls 
                          style="max-width:300px; border-radius:6px;">
                        </video>
                       </p>`
                  : ""
              }
            </td>
          `;
        });
      };
    </script>
  </body>
</html>
